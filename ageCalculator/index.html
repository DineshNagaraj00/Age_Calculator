<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Age Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="calc">
            <h1>Age Calculator</h1>
            <div class="input_box">
                <input type="date" id="date">
                <button onclick="caclAge()">Calculator</button>
            </div>
            <p id="msg"></p>
        </div>
    </div>
</body>
</html>

<script>
    let userInput=document.getElementById("date");
    userInput.max =new Date().toISOString().split("T")[0]; //it disable the fucture date so we can't select
    let result =document.getElementById("msg");

    function caclAge(){
        let birthDate=new Date(userInput.value); //when select new input it stored in variable

        let d1 =birthDate.getDate(); //store the date of selected
        let m1 =birthDate.getMonth() +1; // add +1 is for the index value
        let y1 =birthDate.getFullYear();
        
        let today = new Date(); // current date

        let d2 =today.getDate();
        let m2 =today.getMonth() +1;
        let y2 =today.getFullYear();

        let d3,m3,y3;

        y3 =y2 -y1;

        if(m2>=m1){
            m3=m2-m1;
        }else{
            y3--;
            m3=12 + m2-m1;
        }
        if (d2 >= d1){
            d3 =d2-d1
        }else{
            m3--; // decreaseing the month
            d3 = getDaysInMonth(y1,m1)+d2-d1
        }if(m3 <0){
            m3=11;
            y3--;
        }
        result.innerHTML=`you are <span> ${y3}</span> years, <span>${m3}</span> months and <span>${d3}</span> days old`;
    }

    function getDaysInMonth(year,month){
        return new Date(year,month,0).getDate(); //it gives exact number of days in the month
    }
</script>